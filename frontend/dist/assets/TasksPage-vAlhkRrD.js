import{r as c,c as ze,g as Pe,f as Oe,w as $t,x as it,y as lt,j as e,s as oe,h as Ee,k as De,l as ve,i as L,n as ct,z as Ue,A as Bt,C as Ht,D as Ft,B as b,T as P,b as ce}from"./index-pyrP4BMh.js";import{u as Wt}from"./useTaskQueries-Dyn3x2M3.js";import{u as Nt,M as Ut,U as dt,T as Vt,a as _t,b as Xe}from"./useVoiceQueries-CW2xOsE-.js";import{T as Q,a as X}from"./types-CKC1yxAr.js";import{T as Gt,u as ut,g as Ye,b as Ce,d as qt,o as Fe,e as Ke,P as _e,G as Qt,c as Y,C as ye,a as Me,I as de}from"./List-CAw70JoQ.js";import{t as Xt,c as $e,n as pt,s as Ze,b as Je,S as re,C as ht,f as Le,a as Yt,i as Kt}from"./isPast-5wz86WEh.js";import{a as B,C as xt,L as et,R as Zt}from"./Refresh-uSvqQb4a.js";import{T as fe}from"./Tooltip-CS9G8SJn.js";import{A as Ae}from"./Alert-gy1BkeIG.js";import{S as gt}from"./Stack-DGPHLbVX.js";import{T as Jt,F as xe,I as ge,S as me,M as er}from"./TextField-Dms40dRf.js";import{M as D,D as mt}from"./Delete-Dp31KGW5.js";import{D as Ge}from"./Divider-ColTxRJ8.js";import{S as tr,P as rr}from"./Stop-BWhsmn6_.js";import{A as tt}from"./Add-C1BCB_oL.js";import{L as Te,a as Re}from"./ListItemText-Ck79eKkQ.js";import"./validation-pn9Iv5YD.js";import"./DialogTitle-Zceb_dXp.js";const ft=t=>{const r=c.useRef({});return c.useEffect(()=>{r.current=t}),r.current};function sr(t){return ze("MuiCollapse",t)}Pe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const nr=t=>{const{orientation:r,classes:s}=t,n={root:["root",`${r}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${r}`],wrapperInner:["wrapperInner",`${r}`]};return De(n,sr,s)},ar=oe("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:s}=t;return[r.root,r[s.orientation],s.state==="entered"&&r.entered,s.state==="exited"&&!s.in&&s.collapsedSize==="0px"&&r.hidden]}})(ve(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:r})=>r.state==="exited"&&!r.in&&r.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),or=oe("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,r)=>r.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),ir=oe("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,r)=>r.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Ve=c.forwardRef(function(r,s){const n=Oe({props:r,name:"MuiCollapse"}),{addEndListener:l,children:o,className:g,collapsedSize:d="0px",component:j,easing:w,in:k,onEnter:h,onEntered:m,onEntering:v,onExit:p,onExited:C,onExiting:f,orientation:u="vertical",style:x,timeout:a=$t.standard,TransitionComponent:_=Gt,...N}=n,J={...n,orientation:u,collapsedSize:d},U=nr(J),se=ut(),ne=it(),A=c.useRef(null),K=c.useRef(),G=typeof d=="number"?`${d}px`:d,q=u==="horizontal",V=q?"width":"height",$=c.useRef(null),O=lt(s,$),E=y=>F=>{if(y){const W=$.current;F===void 0?y(W):y(W,F)}},M=()=>A.current?A.current[q?"clientWidth":"clientHeight"]:0,T=E((y,F)=>{A.current&&q&&(A.current.style.position="absolute"),y.style[V]=G,h&&h(y,F)}),ee=E((y,F)=>{const W=M();A.current&&q&&(A.current.style.position="");const{duration:ie,easing:ue}=Ye({style:x,timeout:a,easing:w},{mode:"enter"});if(a==="auto"){const we=se.transitions.getAutoHeightDuration(W);y.style.transitionDuration=`${we}ms`,K.current=we}else y.style.transitionDuration=typeof ie=="string"?ie:`${ie}ms`;y.style[V]=`${W}px`,y.style.transitionTimingFunction=ue,v&&v(y,F)}),he=E((y,F)=>{y.style[V]="auto",m&&m(y,F)}),be=E(y=>{y.style[V]=`${M()}px`,p&&p(y)}),te=E(C),je=E(y=>{const F=M(),{duration:W,easing:ie}=Ye({style:x,timeout:a,easing:w},{mode:"exit"});if(a==="auto"){const ue=se.transitions.getAutoHeightDuration(F);y.style.transitionDuration=`${ue}ms`,K.current=ue}else y.style.transitionDuration=typeof W=="string"?W:`${W}ms`;y.style[V]=G,y.style.transitionTimingFunction=ie,f&&f(y)}),ke=y=>{a==="auto"&&ne.start(K.current||0,y),l&&l($.current,y)};return e.jsx(_,{in:k,onEnter:T,onEntered:he,onEntering:ee,onExit:be,onExited:te,onExiting:je,addEndListener:ke,nodeRef:$,timeout:a==="auto"?null:a,...N,children:(y,{ownerState:F,...W})=>e.jsx(ar,{as:j,className:Ee(U.root,g,{entered:U.entered,exited:!k&&G==="0px"&&U.hidden}[y]),style:{[q?"minWidth":"minHeight"]:G,...x},ref:O,ownerState:{...J,state:y},...W,children:e.jsx(or,{ownerState:{...J,state:y},className:U.wrapper,ref:A,children:e.jsx(ir,{ownerState:{...J,state:y},className:U.wrapperInner,children:o})})})})});Ve&&(Ve.muiSupportAuto=!0);function lr(t){const{badgeContent:r,invisible:s=!1,max:n=99,showZero:l=!1}=t,o=ft({badgeContent:r,max:n});let g=s;s===!1&&r===0&&!l&&(g=!0);const{badgeContent:d,max:j=n}=g?o:t,w=d&&Number(d)>j?`${j}+`:d;return{badgeContent:d,invisible:g,max:j,displayValue:w}}function cr(t){return ze("MuiBadge",t)}const pe=Pe("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),We=10,Ne=4,dr=t=>{const{color:r,anchorOrigin:s,invisible:n,overlap:l,variant:o,classes:g={}}=t,d={root:["root"],badge:["badge",o,n&&"invisible",`anchorOrigin${L(s.vertical)}${L(s.horizontal)}`,`anchorOrigin${L(s.vertical)}${L(s.horizontal)}${L(l)}`,`overlap${L(l)}`,r!=="default"&&`color${L(r)}`]};return De(d,cr,g)},ur=oe("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,r)=>r.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),pr=oe("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,r)=>{const{ownerState:s}=t;return[r.badge,r[s.variant],r[`anchorOrigin${L(s.anchorOrigin.vertical)}${L(s.anchorOrigin.horizontal)}${L(s.overlap)}`],s.color!=="default"&&r[`color${L(s.color)}`],s.invisible&&r.invisible]}})(ve(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:We*2,lineHeight:1,padding:"0 6px",height:We*2,borderRadius:We,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(ct(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main,color:(t.vars||t).palette[r].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ne,height:Ne*2,minWidth:Ne*2,padding:0}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function rt(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const hr=c.forwardRef(function(r,s){const n=Oe({props:r,name:"MuiBadge"}),{anchorOrigin:l,className:o,classes:g,component:d,components:j={},componentsProps:w={},children:k,overlap:h="rectangular",color:m="default",invisible:v=!1,max:p=99,badgeContent:C,slots:f,slotProps:u,showZero:x=!1,variant:a="standard",..._}=n,{badgeContent:N,invisible:J,max:U,displayValue:se}=lr({max:p,invisible:v,badgeContent:C,showZero:x}),ne=ft({anchorOrigin:rt(l),color:m,overlap:h,variant:a,badgeContent:C}),A=J||N==null&&a!=="dot",{color:K=m,overlap:G=h,anchorOrigin:q,variant:V=a}=A?ne:n,$=rt(q),O=V!=="dot"?se:void 0,E={...n,badgeContent:N,invisible:A,max:U,displayValue:O,showZero:x,anchorOrigin:$,color:K,overlap:G,variant:V},M=dr(E),T={slots:{root:(f==null?void 0:f.root)??j.Root,badge:(f==null?void 0:f.badge)??j.Badge},slotProps:{root:(u==null?void 0:u.root)??w.root,badge:(u==null?void 0:u.badge)??w.badge}},[ee,he]=Ce("root",{elementType:ur,externalForwardedProps:{...T,..._},ownerState:E,className:Ee(M.root,o),ref:s,additionalProps:{as:d}}),[be,te]=Ce("badge",{elementType:pr,externalForwardedProps:T,ownerState:E,className:M.badge});return e.jsxs(ee,{...he,children:[k,e.jsx(be,{...te,children:O})]})});function st(t){return t.substring(2).toLowerCase()}function xr(t,r){return r.documentElement.clientWidth<t.clientX||r.documentElement.clientHeight<t.clientY}function gr(t){const{children:r,disableReactTree:s=!1,mouseEvent:n="onClick",onClickAway:l,touchEvent:o="onTouchEnd"}=t,g=c.useRef(!1),d=c.useRef(null),j=c.useRef(!1),w=c.useRef(!1);c.useEffect(()=>(setTimeout(()=>{j.current=!0},0),()=>{j.current=!1}),[]);const k=lt(qt(r),d),h=Ue(p=>{const C=w.current;w.current=!1;const f=Fe(d.current);if(!j.current||!d.current||"clientX"in p&&xr(p,f))return;if(g.current){g.current=!1;return}let u;p.composedPath?u=p.composedPath().includes(d.current):u=!f.documentElement.contains(p.target)||d.current.contains(p.target),!u&&(s||!C)&&l(p)}),m=p=>C=>{w.current=!0;const f=r.props[p];f&&f(C)},v={ref:k};return o!==!1&&(v[o]=m(o)),c.useEffect(()=>{if(o!==!1){const p=st(o),C=Fe(d.current),f=()=>{g.current=!0};return C.addEventListener(p,h),C.addEventListener("touchmove",f),()=>{C.removeEventListener(p,h),C.removeEventListener("touchmove",f)}}},[h,o]),n!==!1&&(v[n]=m(n)),c.useEffect(()=>{if(n!==!1){const p=st(n),C=Fe(d.current);return C.addEventListener(p,h),()=>{C.removeEventListener(p,h)}}},[h,n]),c.cloneElement(r,v)}function mr(t){return ze("MuiFab",t)}const nt=Pe("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),fr=t=>{const{color:r,variant:s,classes:n,size:l}=t,o={root:["root",s,`size${L(l)}`,r==="inherit"?"colorInherit":r]},g=De(o,mr,n);return{...n,...g}},vr=oe(Bt,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>Ht(t)||t==="classes",overridesResolver:(t,r)=>{const{ownerState:s}=t;return[r.root,r[s.variant],r[`size${L(s.size)}`],s.color==="inherit"&&r.colorInherit,r[L(s.size)],r[s.color]]}})(ve(({theme:t})=>{var r,s;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(s=(r=t.palette).getContrastText)==null?void 0:s.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${nt.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),ve(({theme:t})=>({variants:[...Object.entries(t.palette).filter(ct(["dark","contrastText"])).map(([r])=>({props:{color:r},style:{color:(t.vars||t).palette[r].contrastText,backgroundColor:(t.vars||t).palette[r].main,"&:hover":{backgroundColor:(t.vars||t).palette[r].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[r].main}}}}))]})),ve(({theme:t})=>({[`&.${nt.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),yr=c.forwardRef(function(r,s){const n=Oe({props:r,name:"MuiFab"}),{children:l,className:o,color:g="default",component:d="button",disabled:j=!1,disableFocusRipple:w=!1,focusVisibleClassName:k,size:h="large",variant:m="circular",...v}=n,p={...n,color:g,component:d,disabled:j,disableFocusRipple:w,size:h,variant:m},C=fr(p);return e.jsx(vr,{className:Ee(C.root,o),component:d,disabled:j,focusRipple:!w,focusVisibleClassName:Ee(C.focusVisible,k),ownerState:p,ref:s,...v,classes:C,children:l})});function br(t={}){const{autoHideDuration:r=null,disableWindowBlurListener:s=!1,onClose:n,open:l,resumeHideDuration:o}=t,g=it();c.useEffect(()=>{if(!l)return;function u(x){x.defaultPrevented||x.key==="Escape"&&(n==null||n(x,"escapeKeyDown"))}return document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[l,n]);const d=Ue((u,x)=>{n==null||n(u,x)}),j=Ue(u=>{!n||u==null||g.start(u,()=>{d(null,"timeout")})});c.useEffect(()=>(l&&j(r),g.clear),[l,r,j,g]);const w=u=>{n==null||n(u,"clickaway")},k=g.clear,h=c.useCallback(()=>{r!=null&&j(o??r*.5)},[r,o,j]),m=u=>x=>{const a=u.onBlur;a==null||a(x),h()},v=u=>x=>{const a=u.onFocus;a==null||a(x),k()},p=u=>x=>{const a=u.onMouseEnter;a==null||a(x),k()},C=u=>x=>{const a=u.onMouseLeave;a==null||a(x),h()};return c.useEffect(()=>{if(!s&&l)return window.addEventListener("focus",h),window.addEventListener("blur",k),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",k)}},[s,l,h,k]),{getRootProps:(u={})=>{const x={...Ke(t),...Ke(u)};return{role:"presentation",...u,...x,onBlur:m(x),onFocus:v(x),onMouseEnter:p(x),onMouseLeave:C(x)}},onClickAway:w}}function jr(t){return ze("MuiSnackbarContent",t)}Pe("MuiSnackbarContent",["root","message","action"]);const wr=t=>{const{classes:r}=t;return De({root:["root"],action:["action"],message:["message"]},jr,r)},Cr=oe(_e,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,r)=>r.root})(ve(({theme:t})=>{const r=t.palette.mode==="light"?.8:.98,s=Ft(t.palette.background.default,r);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(s),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:s,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),kr=oe("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,r)=>r.message})({padding:"8px 0"}),Sr=oe("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,r)=>r.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Tr=c.forwardRef(function(r,s){const n=Oe({props:r,name:"MuiSnackbarContent"}),{action:l,className:o,message:g,role:d="alert",...j}=n,w=n,k=wr(w);return e.jsxs(Cr,{role:d,square:!0,elevation:6,className:Ee(k.root,o),ownerState:w,ref:s,...j,children:[e.jsx(kr,{className:k.message,ownerState:w,children:g}),l?e.jsx(Sr,{className:k.action,ownerState:w,children:l}):null]})});function Rr(t){return ze("MuiSnackbar",t)}Pe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Er=t=>{const{classes:r,anchorOrigin:s}=t,n={root:["root",`anchorOrigin${L(s.vertical)}${L(s.horizontal)}`]};return De(n,Rr,r)},Mr=oe("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:s}=t;return[r.root,r[`anchorOrigin${L(s.anchorOrigin.vertical)}${L(s.anchorOrigin.horizontal)}`]]}})(ve(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:r})=>r.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:r})=>r.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:r})=>r.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:r})=>r.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:r})=>r.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),zr=c.forwardRef(function(r,s){const n=Oe({props:r,name:"MuiSnackbar"}),l=ut(),o={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{action:g,anchorOrigin:{vertical:d,horizontal:j}={vertical:"bottom",horizontal:"left"},autoHideDuration:w=null,children:k,className:h,ClickAwayListenerProps:m,ContentProps:v,disableWindowBlurListener:p=!1,message:C,onBlur:f,onClose:u,onFocus:x,onMouseEnter:a,onMouseLeave:_,open:N,resumeHideDuration:J,slots:U={},slotProps:se={},TransitionComponent:ne,transitionDuration:A=o,TransitionProps:{onEnter:K,onExited:G,...q}={},...V}=n,$={...n,anchorOrigin:{vertical:d,horizontal:j},autoHideDuration:w,disableWindowBlurListener:p,TransitionComponent:ne,transitionDuration:A},O=Er($),{getRootProps:E,onClickAway:M}=br({...$}),[T,ee]=c.useState(!0),he=H=>{ee(!0),G&&G(H)},be=(H,R)=>{ee(!1),K&&K(H,R)},te={slots:{transition:ne,...U},slotProps:{content:v,clickAwayListener:m,transition:q,...se}},[je,ke]=Ce("root",{ref:s,className:[O.root,h],elementType:Mr,getSlotProps:E,externalForwardedProps:{...te,...V},ownerState:$}),[y,{ownerState:F,...W}]=Ce("clickAwayListener",{elementType:gr,externalForwardedProps:te,getSlotProps:H=>({onClickAway:(...R)=>{var ae;(ae=H.onClickAway)==null||ae.call(H,...R),M(...R)}}),ownerState:$}),[ie,ue]=Ce("content",{elementType:Tr,shouldForwardComponentProp:!0,externalForwardedProps:te,additionalProps:{message:C,action:g},ownerState:$}),[we,Be]=Ce("transition",{elementType:Qt,externalForwardedProps:te,getSlotProps:H=>({onEnter:(...R)=>{var ae;(ae=H.onEnter)==null||ae.call(H,...R),be(...R)},onExited:(...R)=>{var ae;(ae=H.onExited)==null||ae.call(H,...R),he(...R)}}),additionalProps:{appear:!0,in:N,timeout:A,direction:d==="top"?"down":"up"},ownerState:$});return!N&&T?null:e.jsx(y,{...W,...U.clickAwayListener&&{ownerState:F},children:e.jsx(je,{...ke,children:e.jsx(we,{...Be,children:k||e.jsx(ie,{...ue})})})})}),Pr=Y([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),vt=Y(e.jsx("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M12 17.5 6.5 12H10v-2h4v2h3.5zM5.12 5l.81-1h12l.94 1z"}),"Archive"),at=Y(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),ot=Y(e.jsx("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment"),Or=Y(e.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Dr=Y(e.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),Ir=Y(e.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Lr=Y(e.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),yt=Y(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),Ar=Y(e.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),$r=Y(e.jsx("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"}),"Sort"),Br=Y(e.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList"),Hr=Y(e.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"}),"ViewModule");function Fr(t,r,s){const n=Xt(t,s==null?void 0:s.in);return isNaN(r)?$e(t,NaN):(n.setDate(n.getDate()+r),n)}function qe(t){return $e(t,Date.now())}function bt(t,r,s){const[n,l]=pt(s==null?void 0:s.in,t,r);return+Ze(n)==+Ze(l)}function Wr(t,r,s){const[n,l]=pt(s==null?void 0:s.in,t,r);return+Je(n,s)==+Je(l,s)}function Nr(t,r){return Wr($e(t,t),qe(t),r)}function Ur(t,r){return bt($e(t,t),qe(t))}function Vr(t,r){return bt(t,Fr(qe(t),1),r)}const _r={[X.LOW]:"success",[X.MEDIUM]:"warning",[X.HIGH]:"error",[X.URGENT]:"error"},Gr={[X.LOW]:"ðŸŸ¢",[X.MEDIUM]:"ðŸŸ¡",[X.HIGH]:"ðŸŸ ",[X.URGENT]:"ðŸ”´"},qr=({task:t,onEdit:r,onDelete:s,onComplete:n,onArchive:l,onAddComment:o,loading:g=!1,compact:d=!1})=>{var p;if(g)return e.jsx(jt,{compact:d});const j=()=>{n&&n(t._id)},w=()=>{l&&l(t._id)},k=()=>{o&&o(t._id)},m=(C=>{if(!C)return null;const f=new Date(C);return Kt(f)?{text:"Overdue",color:"error",icon:"âš ï¸"}:Ur(f)?{text:"Today",color:"warning",icon:"ðŸ”¥"}:Vr(f)?{text:"Tomorrow",color:"info",icon:"ðŸ“…"}:Nr(f)?{text:Le(f,"EEEE"),color:"primary",icon:"ðŸ“†"}:{text:Le(f,"MMM dd"),color:"default",icon:"ðŸ“…"}})(t.deadline),v=(m==null?void 0:m.color)==="error";return e.jsxs(ye,{sx:{mb:2,border:v?"2px solid":"1px solid",borderColor:v?"error.main":"divider",transition:"all 0.2s ease-in-out","&:hover":{boxShadow:4,transform:"translateY(-2px)"},opacity:t.status===Q.COMPLETED?.7:1},children:[e.jsx(ht,{title:e.jsxs(b,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(P,{variant:d?"subtitle1":"h6",sx:{textDecoration:t.status===Q.COMPLETED?"line-through":"none",flex:1},children:t.title}),t.recurring&&e.jsx(fe,{title:"Recurring Task",children:e.jsx(B,{size:"small",label:"ðŸ”„",variant:"outlined"})}),t.auto_categorized&&e.jsx(fe,{title:"AI Categorized",children:e.jsx(B,{size:"small",label:"ðŸ¤–",variant:"outlined"})})]}),action:e.jsxs(b,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(B,{size:"small",label:`${Gr[t.priority]} ${t.priority}`,color:_r[t.priority],variant:"outlined"}),e.jsx(de,{size:"small",children:e.jsx(yt,{})})]})}),e.jsxs(Me,{children:[e.jsx(P,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t.description}),e.jsxs(b,{display:"flex",flexWrap:"wrap",gap:1,mb:2,children:[e.jsx(B,{size:"small",label:t.category,variant:"outlined",color:"primary"}),t.time_required&&e.jsx(B,{size:"small",icon:e.jsx(Pr,{}),label:`${t.time_required}m`,variant:"outlined"}),((p=t.comments)==null?void 0:p.length)>0&&e.jsx(B,{size:"small",icon:e.jsx(ot,{}),label:`${t.comments.length} comments`,variant:"outlined"})]}),m&&e.jsx(Ae,{severity:m.color,icon:e.jsx(Yt,{}),sx:{mb:2},children:e.jsxs(b,{display:"flex",alignItems:"center",gap:1,children:[e.jsx("span",{children:m.icon}),e.jsxs(P,{variant:"body2",children:[m.text," ",t.deadline&&Le(new Date(t.deadline),"h:mm a")]})]})}),e.jsxs(b,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(b,{display:"flex",gap:1,children:[t.status===Q.PENDING&&e.jsx(fe,{title:"Mark Complete",children:e.jsx(de,{size:"small",color:"success",onClick:j,children:e.jsx(xt,{})})}),e.jsx(fe,{title:"Add Comment",children:e.jsx(de,{size:"small",color:"primary",onClick:k,children:e.jsx(ot,{})})}),e.jsx(fe,{title:t.archived?"Unarchive":"Archive",children:e.jsx(de,{size:"small",color:"secondary",onClick:w,children:e.jsx(vt,{})})})]}),e.jsx(P,{variant:"caption",color:"text.secondary",children:Le(new Date(t.createdAt),"MMM dd, yyyy")})]})]})]})},jt=({compact:t=!1})=>e.jsxs(ye,{sx:{mb:2},children:[e.jsx(ht,{title:e.jsx(re,{variant:"text",width:"60%"}),action:e.jsx(re,{variant:"circular",width:24,height:24})}),e.jsxs(Me,{children:[e.jsx(re,{variant:"text",width:"100%"}),e.jsx(re,{variant:"text",width:"80%"}),e.jsxs(b,{display:"flex",gap:1,my:2,children:[e.jsx(re,{variant:"rounded",width:60,height:24}),e.jsx(re,{variant:"rounded",width:80,height:24})]}),e.jsxs(b,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(b,{display:"flex",gap:1,children:[e.jsx(re,{variant:"circular",width:32,height:32}),e.jsx(re,{variant:"circular",width:32,height:32})]}),e.jsx(re,{variant:"text",width:80})]})]})]}),Qr=({tasks:t,loading:r,onTaskAction:s,compact:n=!1,emptyMessage:l="No tasks found"})=>r?e.jsx(b,{children:Array.from({length:3}).map((o,g)=>e.jsx(jt,{compact:n},g))}):!t||t.length===0?e.jsxs(b,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:8,children:[e.jsx(P,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:l}),e.jsx(P,{variant:"body2",color:"text.secondary",children:"Create your first task to get started"})]}):e.jsx(b,{children:t.map(o=>e.jsx(qr,{task:o,onComplete:s==null?void 0:s.complete,onArchive:s==null?void 0:s.archive,onAddComment:s==null?void 0:s.addComment,onEdit:s==null?void 0:s.edit,onDelete:s==null?void 0:s.delete,compact:n},o._id))}),Xr=({stats:t,loading:r=!1})=>{if(r)return e.jsx(b,{display:"flex",gap:2,flexWrap:"wrap",children:Array.from({length:4}).map((n,l)=>e.jsx(ye,{sx:{flex:1,minWidth:150},children:e.jsxs(Me,{children:[e.jsx(re,{variant:"text",width:"60%"}),e.jsx(re,{variant:"h4",width:"40%"})]})},l))});const s=[{label:"Total Tasks",value:(t==null?void 0:t.total)||0,color:"primary"},{label:"Pending",value:(t==null?void 0:t.pending)||0,color:"warning"},{label:"Completed",value:(t==null?void 0:t.completed)||0,color:"success"},{label:"Overdue",value:(t==null?void 0:t.overdue)||0,color:"error"}];return e.jsx(b,{display:"flex",gap:2,flexWrap:"wrap",children:s.map((n,l)=>e.jsx(ye,{sx:{flex:1,minWidth:150},children:e.jsxs(Me,{children:[e.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:n.label}),e.jsx(P,{variant:"h4",color:`${n.color}.main`,children:n.value})]})},l))})},Yr=({onFiltersChange:t,onSortChange:r,onViewChange:s,viewMode:n="card",initialFilters:l={}})=>{const[o,g]=c.useState({search:l.search||"",status:l.status||"all",priority:l.priority||"all",category:l.category||"all",archived:l.archived||!1,recurring:l.recurring||"all",...l}),[d,j]=c.useState(!1),[w,k]=c.useState(l.sortBy||"created"),[h,m]=c.useState(l.sortOrder||"desc"),v=(a,_)=>{const N={...o,[a]:_};g(N),t==null||t(N)},p=(a,_)=>{k(a),m(_),r==null||r({field:a,order:_})},C=()=>{const a={search:"",status:"all",priority:"all",category:"all",archived:!1,recurring:"all"};g(a),t==null||t(a)},f=Object.values(o).some(a=>a!==""&&a!=="all"&&a!==!1),u=["general","work","personal","health","finance","education","shopping","travel","family","hobby","urgent"],x=[{value:"created",label:"Created Date"},{value:"deadline",label:"Deadline"},{value:"priority",label:"Priority"},{value:"title",label:"Title"},{value:"time_required",label:"Duration"}];return e.jsx(_e,{sx:{p:2,mb:2},children:e.jsxs(gt,{spacing:2,children:[e.jsxs(b,{display:"flex",gap:2,flexWrap:"wrap",alignItems:"center",children:[e.jsx(Jt,{placeholder:"Search tasks...",value:o.search,onChange:a=>v("search",a.target.value),InputProps:{startAdornment:e.jsx(Ar,{sx:{mr:1,color:"text.secondary"}}),endAdornment:o.search&&e.jsx(de,{size:"small",onClick:()=>v("search",""),children:e.jsx(at,{})})},sx:{flex:1,minWidth:200}}),e.jsxs(xe,{sx:{minWidth:120},children:[e.jsx(ge,{children:"Status"}),e.jsxs(me,{value:o.status,onChange:a=>v("status",a.target.value),label:"Status",children:[e.jsx(D,{value:"all",children:"All"}),e.jsx(D,{value:Q.PENDING,children:"Pending"}),e.jsx(D,{value:Q.COMPLETED,children:"Completed"})]})]}),e.jsxs(xe,{sx:{minWidth:120},children:[e.jsx(ge,{children:"Priority"}),e.jsxs(me,{value:o.priority,onChange:a=>v("priority",a.target.value),label:"Priority",children:[e.jsx(D,{value:"all",children:"All"}),Object.values(X).map(a=>e.jsx(D,{value:a,children:e.jsxs(b,{display:"flex",alignItems:"center",gap:1,children:[e.jsx("span",{children:a===X.LOW?"ðŸŸ¢":a===X.MEDIUM?"ðŸŸ¡":a===X.HIGH?"ðŸŸ ":"ðŸ”´"}),a]})},a))]})]}),e.jsxs(xe,{sx:{minWidth:120},children:[e.jsx(ge,{children:"Category"}),e.jsxs(me,{value:o.category,onChange:a=>v("category",a.target.value),label:"Category",children:[e.jsx(D,{value:"all",children:"All"}),u.map(a=>e.jsx(D,{value:a,children:a},a))]})]}),e.jsxs(ce,{variant:"outlined",startIcon:e.jsx(Lr,{}),onClick:()=>j(!d),children:[d?e.jsx(Dr,{}):e.jsx(Ir,{}),"Advanced"]}),e.jsx(ce,{variant:"outlined",startIcon:e.jsx($r,{}),onClick:()=>j(!d),children:"Sort"}),e.jsxs(b,{display:"flex",gap:1,children:[e.jsx(fe,{title:"Card View",children:e.jsx(de,{color:n==="card"?"primary":"default",onClick:()=>s==null?void 0:s("card"),children:e.jsx(Hr,{})})}),e.jsx(fe,{title:"List View",children:e.jsx(de,{color:n==="list"?"primary":"default",onClick:()=>s==null?void 0:s("list"),children:e.jsx(Br,{})})})]}),f&&e.jsx(ce,{variant:"outlined",color:"error",startIcon:e.jsx(at,{}),onClick:C,children:"Clear Filters"})]}),e.jsx(Ve,{in:d,children:e.jsxs(b,{children:[e.jsx(Ge,{sx:{mb:2}}),e.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Advanced Filters & Sorting"}),e.jsxs(b,{display:"flex",gap:2,flexWrap:"wrap",alignItems:"center",children:[e.jsxs(xe,{sx:{minWidth:120},children:[e.jsx(ge,{children:"Recurring"}),e.jsxs(me,{value:o.recurring,onChange:a=>v("recurring",a.target.value),label:"Recurring",children:[e.jsx(D,{value:"all",children:"All"}),e.jsx(D,{value:"true",children:"Recurring Only"}),e.jsx(D,{value:"false",children:"Non-Recurring Only"})]})]}),e.jsxs(xe,{sx:{minWidth:120},children:[e.jsx(ge,{children:"Archived"}),e.jsxs(me,{value:o.archived?"true":"false",onChange:a=>v("archived",a.target.value==="true"),label:"Archived",children:[e.jsx(D,{value:"false",children:"Active"}),e.jsx(D,{value:"true",children:"Archived"})]})]}),e.jsxs(xe,{sx:{minWidth:120},children:[e.jsx(ge,{children:"Sort By"}),e.jsx(me,{value:w,onChange:a=>p(a.target.value,h),label:"Sort By",children:x.map(a=>e.jsx(D,{value:a.value,children:a.label},a.value))})]}),e.jsxs(xe,{sx:{minWidth:120},children:[e.jsx(ge,{children:"Order"}),e.jsxs(me,{value:h,onChange:a=>p(w,a.target.value),label:"Order",children:[e.jsx(D,{value:"asc",children:"Ascending"}),e.jsx(D,{value:"desc",children:"Descending"})]})]})]})]})}),f&&e.jsxs(b,{children:[e.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Active Filters:"}),e.jsxs(b,{display:"flex",gap:1,flexWrap:"wrap",children:[o.search&&e.jsx(B,{label:`Search: "${o.search}"`,onDelete:()=>v("search",""),color:"primary",variant:"outlined"}),o.status!=="all"&&e.jsx(B,{label:`Status: ${o.status}`,onDelete:()=>v("status","all"),color:"secondary",variant:"outlined"}),o.priority!=="all"&&e.jsx(B,{label:`Priority: ${o.priority}`,onDelete:()=>v("priority","all"),color:"warning",variant:"outlined"}),o.category!=="all"&&e.jsx(B,{label:`Category: ${o.category}`,onDelete:()=>v("category","all"),color:"info",variant:"outlined"}),o.recurring!=="all"&&e.jsx(B,{label:`Recurring: ${o.recurring==="true"?"Yes":"No"}`,onDelete:()=>v("recurring","all"),color:"success",variant:"outlined"}),o.archived&&e.jsx(B,{label:"Archived",onDelete:()=>v("archived",!1),color:"error",variant:"outlined"})]})]})]})})},Kr=({onFilterSelect:t,activeFilters:r={}})=>{const s=[{key:"urgent",label:"Urgent",icon:"ðŸ”´",color:"error"},{key:"today",label:"Due Today",icon:"ðŸ“…",color:"warning"},{key:"overdue",label:"Overdue",icon:"âš ï¸",color:"error"},{key:"completed",label:"Completed",icon:"âœ…",color:"success"},{key:"recurring",label:"Recurring",icon:"ðŸ”„",color:"info"}];return e.jsx(b,{display:"flex",gap:1,flexWrap:"wrap",mb:2,children:s.map(n=>e.jsx(B,{label:`${n.icon} ${n.label}`,onClick:()=>t==null?void 0:t(n.key),color:r[n.key]?n.color:"default",variant:r[n.key]?"filled":"outlined",clickable:!0},n.key))})},Zr=({onTranscriptionComplete:t,onTaskCreated:r,mode:s="transcribe"})=>{const[n,l]=c.useState(!1),[o,g]=c.useState(!1),[d,j]=c.useState(null),[w,k]=c.useState(""),[h,m]=c.useState(null),[v,p]=c.useState(null),[C,f]=c.useState(0),u=c.useRef(null),x=c.useRef(null),a=c.useRef(null),{useTranscribeAudio:_,useParseVoice:N,useCreateTaskFromVoice:J}=Nt(),U=_(),se=N(),ne=J(),A=async()=>{try{const O=await navigator.mediaDevices.getUserMedia({audio:!0}),E=new MediaRecorder(O);u.current=E;const M=[];E.ondataavailable=T=>{M.push(T.data)},E.onstop=()=>{const T=new Blob(M,{type:"audio/wav"});j(T),O.getTracks().forEach(ee=>ee.stop())},E.start(),l(!0),f(0),a.current=setInterval(()=>{f(T=>T+1)},1e3)}catch{p("Microphone access denied. Please allow microphone access and try again.")}},K=()=>{u.current&&n&&(u.current.stop(),l(!1),a.current&&clearInterval(a.current))},G=async()=>{var O,E;if(d){g(!0),p(null);try{const M=new File([d],"recording.wav",{type:"audio/wav"});if(s==="transcribe"){const T=await U.mutateAsync({audioFile:M});k(T.data.text),t==null||t(T.data.text)}else if(s==="parse"){const T=await se.mutateAsync({audioFile:M});k(T.data.transcribedText),m(T.data.parsedTask),t==null||t(T.data.transcribedText,T.data.parsedTask)}else if(s==="create"){const T=await ne.mutateAsync({audioFile:M});k(T.data.transcribedText),m(T.data.parsedTask),r==null||r(T.data.task)}}catch(M){p(((E=(O=M.response)==null?void 0:O.data)==null?void 0:E.message)||"Failed to process audio. Please try again.")}finally{g(!1)}}},q=()=>{j(null),k(""),m(null),p(null),f(0)},V=()=>{if(d&&x.current){const O=URL.createObjectURL(d);x.current.src=O,x.current.play()}},$=O=>{const E=Math.floor(O/60),M=O%60;return`${E}:${M.toString().padStart(2,"0")}`};return e.jsx(ye,{sx:{mb:3},children:e.jsxs(Me,{children:[e.jsx(P,{variant:"h6",gutterBottom:!0,children:"Voice Input"}),v&&e.jsx(Ae,{severity:"error",sx:{mb:2},children:v}),e.jsxs(b,{display:"flex",alignItems:"center",gap:2,mb:2,children:[n?e.jsxs(ce,{variant:"contained",color:"error",startIcon:e.jsx(tr,{}),onClick:K,children:["Stop Recording (",$(C),")"]}):e.jsx(ce,{variant:"contained",color:"primary",startIcon:e.jsx(Ut,{}),onClick:A,disabled:o,children:"Start Recording"}),d&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{variant:"outlined",startIcon:e.jsx(rr,{}),onClick:V,disabled:o,children:"Play"}),e.jsx(ce,{variant:"outlined",color:"primary",onClick:G,disabled:o,startIcon:e.jsx(dt,{}),children:o?"Processing...":"Process Audio"}),e.jsx(de,{color:"error",onClick:q,disabled:o,children:e.jsx(mt,{})})]})]}),o&&e.jsxs(b,{mb:2,children:[e.jsx(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Processing audio..."}),e.jsx(et,{})]}),e.jsx("audio",{ref:x,style:{display:"none"}}),w&&e.jsxs(b,{mb:2,children:[e.jsx(Ge,{sx:{mb:2}}),e.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Transcription:"}),e.jsx(ye,{variant:"outlined",sx:{p:2,bgcolor:"grey.50"},children:e.jsx(P,{variant:"body1",children:w})})]}),h&&e.jsxs(b,{mb:2,children:[e.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Parsed Task Details:"}),e.jsx(ye,{variant:"outlined",sx:{p:2},children:e.jsxs(gt,{spacing:1,children:[e.jsxs(b,{children:[e.jsx(P,{variant:"body2",color:"text.secondary",children:"Title:"}),e.jsx(P,{variant:"body1",children:h.title})]}),e.jsxs(b,{children:[e.jsx(P,{variant:"body2",color:"text.secondary",children:"Description:"}),e.jsx(P,{variant:"body1",children:h.description})]}),e.jsxs(b,{display:"flex",gap:1,flexWrap:"wrap",children:[e.jsx(B,{label:`Priority: ${h.priority}`,color:h.priority==="urgent"?"error":h.priority==="high"?"warning":"default",size:"small"}),e.jsx(B,{label:`Category: ${h.category}`,color:"primary",size:"small"}),h.time_required&&e.jsx(B,{label:`Duration: ${h.time_required}m`,color:"info",size:"small"}),h.deadline&&e.jsx(B,{label:`Deadline: ${new Date(h.deadline).toLocaleString()}`,color:"secondary",size:"small"})]}),e.jsxs(b,{children:[e.jsxs(P,{variant:"body2",color:"text.secondary",children:["Confidence: ",Math.round(h.confidence*100),"%"]}),e.jsx(et,{variant:"determinate",value:h.confidence*100,sx:{mt:1}})]})]})})]}),e.jsx(b,{mt:2,children:e.jsxs(P,{variant:"body2",color:"text.secondary",children:[s==="transcribe"&&'Click "Start Recording" to begin voice input. Speak clearly and click "Stop Recording" when finished.',s==="parse"&&"Record your task description. The AI will extract details like title, deadline, priority, and duration.",s==="create"&&"Record your task description. A new task will be created automatically with AI-extracted details."]})})]})})},fs=()=>{const[t,r]=c.useState(!1),[s,n]=c.useState(null),[l,o]=c.useState({}),[g,d]=c.useState("created"),[j,w]=c.useState("desc"),[k,h]=c.useState("card"),[m,v]=c.useState([]),[p,C]=c.useState(0),[f,u]=c.useState(null),[x,a]=c.useState({open:!1,message:"",severity:"info"}),{useGetTasks:_,useCreateTask:N,useUpdateTask:J,useDeleteTask:U,useCompleteTask:se,useArchiveTask:ne,useAddComment:A,useBulkUpdate:K,useBulkDelete:G,useBulkArchive:q,useExportTasks:V,useImportTasks:$,useGetReminderStats:O,useParseNaturalLanguage:E}=Wt(),{data:M,isLoading:T,error:ee,refetch:he}=_({...l,sortBy:g,sortOrder:j}),{data:be}=O(),te=N(),je=J(),ke=U(),y=se(),F=ne(),W=A(),ie=K(),ue=G(),we=q(),Be=V(),H=$();E();const R=(M==null?void 0:M.data)||[],ae=c.useMemo(()=>{switch(p){case 0:return R.filter(i=>!i.archived);case 1:return R.filter(i=>i.status===Q.PENDING&&!i.archived);case 2:return R.filter(i=>i.status===Q.COMPLETED&&!i.archived);case 3:return R.filter(i=>i.deadline&&new Date(i.deadline)<new Date&&i.status===Q.PENDING&&!i.archived);case 4:return R.filter(i=>i.recurring&&!i.archived);case 5:return R.filter(i=>i.archived);default:return R}},[R,p]),Se=c.useMemo(()=>{const i=R.filter(Z=>!Z.archived).length,S=R.filter(Z=>Z.status===Q.PENDING&&!Z.archived).length,I=R.filter(Z=>Z.status===Q.COMPLETED&&!Z.archived).length,le=R.filter(Z=>Z.deadline&&new Date(Z.deadline)<new Date&&Z.status===Q.PENDING&&!Z.archived).length;return{total:i,pending:S,completed:I,overdue:le}},[R]),z=(i,S="info")=>{a({open:!0,message:i,severity:S})},wt=async i=>{try{await te.mutateAsync(i),r(!1),z("Task created successfully!","success")}catch(S){z(`Failed to create task: ${S.message}`,"error")}},Ct=async i=>{try{await je.mutateAsync({taskId:s._id,data:i}),n(null),z("Task updated successfully!","success")}catch(S){z(`Failed to update task: ${S.message}`,"error")}},kt=async i=>{if(window.confirm("Are you sure you want to delete this task?"))try{await ke.mutateAsync(i),z("Task deleted successfully!","success")}catch(S){z(`Failed to delete task: ${S.message}`,"error")}},St=async i=>{try{await y.mutateAsync(i),z("Task marked as completed!","success")}catch(S){z(`Failed to complete task: ${S.message}`,"error")}},Tt=async i=>{try{await F.mutateAsync(i),z("Task archived successfully!","success")}catch(S){z(`Failed to archive task: ${S.message}`,"error")}},Rt=async i=>{const S=prompt("Enter your comment:");if(S)try{await W.mutateAsync({taskId:i,comment:S}),z("Comment added successfully!","success")}catch(I){z(`Failed to add comment: ${I.message}`,"error")}},Et=i=>{o(i)},Mt=({field:i,order:S})=>{d(i),w(S)},zt=i=>{h(i)},Pt=i=>{z("Task created from voice input!","success")},Ot=i=>{switch(i){case"urgent":o(I=>({...I,priority:X.URGENT}));break;case"today":const S=new Date;S.setHours(23,59,59,999),o(I=>({...I,deadline:S.toISOString()}));break;case"overdue":o(I=>({...I,overdue:!0}));break;case"completed":o(I=>({...I,status:Q.COMPLETED}));break;case"recurring":o(I=>({...I,recurring:"true"}));break;default:o({})}},Dt=i=>{u(i.currentTarget)},Ie=()=>{u(null)},It=async()=>{try{const i=await Be.mutateAsync("json"),S=new Blob([i.data],{type:"application/json"}),I=window.URL.createObjectURL(S),le=document.createElement("a");le.href=I,le.download=`tasks-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(le),le.click(),window.URL.revokeObjectURL(I),document.body.removeChild(le),z("Tasks exported successfully!","success")}catch(i){z(`Failed to export tasks: ${i.message}`,"error")}Ie()},Lt=()=>{const i=document.createElement("input");i.type="file",i.accept=".json",i.onchange=async S=>{const I=S.target.files[0];if(I)try{await H.mutateAsync({file:I,format:"json"}),z("Tasks imported successfully!","success")}catch(le){z(`Failed to import tasks: ${le.message}`,"error")}},i.click(),Ie()},At=()=>{he(),z("Tasks refreshed!","info")},He=async i=>{if(m.length===0){z("Please select tasks first","warning");return}try{switch(i){case"complete":await ie.mutateAsync({taskIds:m,updates:{status:Q.COMPLETED}}),z(`${m.length} tasks marked as completed!`,"success");break;case"archive":await we.mutateAsync(m),z(`${m.length} tasks archived!`,"success");break;case"delete":window.confirm(`Are you sure you want to delete ${m.length} tasks?`)&&(await ue.mutateAsync(m),z(`${m.length} tasks deleted!`,"success"));break}v([])}catch(S){z(`Failed to perform bulk action: ${S.message}`,"error")}Ie()},Qe=[{label:"All Tasks",count:Se.total},{label:"Pending",count:Se.pending},{label:"Completed",count:Se.completed},{label:"Overdue",count:Se.overdue},{label:"Recurring",count:R.filter(i=>i.recurring&&!i.archived).length},{label:"Archived",count:R.filter(i=>i.archived).length}];return e.jsxs(b,{sx:{p:3},children:[e.jsxs(b,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(P,{variant:"h4",children:"Tasks"}),e.jsxs(b,{display:"flex",gap:1,children:[e.jsx(ce,{variant:"outlined",startIcon:e.jsx(Zt,{}),onClick:At,disabled:T,children:"Refresh"}),e.jsx(ce,{variant:"contained",startIcon:e.jsx(tt,{}),onClick:()=>r(!0),children:"Create Task"}),e.jsx(de,{onClick:Dt,children:e.jsx(yt,{})})]})]}),e.jsxs(er,{anchorEl:f,open:!!f,onClose:Ie,children:[e.jsxs(D,{onClick:It,children:[e.jsx(Te,{children:e.jsx(Or,{})}),e.jsx(Re,{children:"Export Tasks"})]}),e.jsxs(D,{onClick:Lt,children:[e.jsx(Te,{children:e.jsx(dt,{})}),e.jsx(Re,{children:"Import Tasks"})]}),e.jsx(Ge,{}),e.jsxs(D,{onClick:()=>He("complete"),children:[e.jsx(Te,{children:e.jsx(xt,{})}),e.jsx(Re,{children:"Mark Selected Complete"})]}),e.jsxs(D,{onClick:()=>He("archive"),children:[e.jsx(Te,{children:e.jsx(vt,{})}),e.jsx(Re,{children:"Archive Selected"})]}),e.jsxs(D,{onClick:()=>He("delete"),children:[e.jsx(Te,{children:e.jsx(mt,{})}),e.jsx(Re,{children:"Delete Selected"})]})]}),e.jsx(Xr,{stats:Se,loading:T}),e.jsx(Zr,{mode:"create",onTaskCreated:Pt}),e.jsx(Kr,{onFilterSelect:Ot,activeFilters:l}),e.jsx(Yr,{onFiltersChange:Et,onSortChange:Mt,onViewChange:zt,viewMode:k,initialFilters:l}),e.jsx(_e,{sx:{mb:2},children:e.jsx(Vt,{value:p,onChange:(i,S)=>C(S),variant:"scrollable",scrollButtons:"auto",children:Qe.map((i,S)=>e.jsx(_t,{label:e.jsxs(b,{display:"flex",alignItems:"center",gap:1,children:[i.label,e.jsx(hr,{badgeContent:i.count,color:"primary"})]})},S))})}),ee&&e.jsxs(Ae,{severity:"error",sx:{mb:2},children:["Failed to load tasks: ",ee.message]}),e.jsx(Qr,{tasks:ae,loading:T,onTaskAction:{complete:St,archive:Tt,addComment:Rt,edit:n,delete:kt},compact:k==="list",emptyMessage:`No ${Qe[p].label.toLowerCase()} found`}),e.jsx(Xe,{open:t,onClose:()=>r(!1),onSubmit:wt,loading:te.isLoading}),e.jsx(Xe,{open:!!s,onClose:()=>n(null),onSubmit:Ct,initialData:s,loading:je.isLoading,title:"Edit Task"}),e.jsx(yr,{color:"primary","aria-label":"add",sx:{position:"fixed",bottom:16,right:16},onClick:()=>r(!0),children:e.jsx(tt,{})}),e.jsx(zr,{open:x.open,autoHideDuration:6e3,onClose:()=>a(i=>({...i,open:!1})),children:e.jsx(Ae,{onClose:()=>a(i=>({...i,open:!1})),severity:x.severity,children:x.message})})]})};export{fs as default};
//# sourceMappingURL=TasksPage-vAlhkRrD.js.map
